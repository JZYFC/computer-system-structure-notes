<!DOCTYPE HTML>
<html lang="zh-cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>微处理器 - 计算机系统结构</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Part 1</li><li class="chapter-item expanded "><a href="../../Part1/一. 计算机中的信息表示.html"><strong aria-hidden="true">1.</strong> 计算机中的信息表示</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part1/计算机中的信息表示/数据性数据的表示方法.html"><strong aria-hidden="true">1.1.</strong> 数据型数据的表示方法</a></li><li class="chapter-item expanded "><a href="../../Part1/计算机中的信息表示/字符型数据的表示方法.html"><strong aria-hidden="true">1.2.</strong> 字符型数据的表示方法</a></li><li class="chapter-item expanded "><a href="../../Part1/计算机中的信息表示/计算机中信息的物理表示.html"><strong aria-hidden="true">1.3.</strong> 计算机中信息的物理表示</a></li></ol></li><li class="chapter-item expanded "><a href="../../Part1/二. 数字逻辑基础.html"><strong aria-hidden="true">2.</strong> 数字逻辑基础</a></li><li class="chapter-item expanded affix "><li class="part-title">Part 2</li><li class="chapter-item expanded "><a href="../../Part2/一. 概论/概论.html"><strong aria-hidden="true">3.</strong> 概论</a></li><li class="chapter-item expanded "><a href="../../Part2/二. 指令系统/二. 指令系统.html"><strong aria-hidden="true">4.</strong> 指令系统</a></li><li class="chapter-item expanded "><a href="../../Part2/三. 中央处理器/中央处理器.html"><strong aria-hidden="true">5.</strong> 中央处理器</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part2/三. 中央处理器/1. 模型机的总体设计/模型机的总体设计.html"><strong aria-hidden="true">5.1.</strong> 模型机的总体设计</a></li><li class="chapter-item expanded "><a href="../../Part2/三. 中央处理器/2. 运算部件与运算器/运算部件与运算器.html"><strong aria-hidden="true">5.2.</strong> 运算部件与运算器</a></li><li class="chapter-item expanded "><a href="../../Part2/三. 中央处理器/3. 模型机的组合逻辑控制器/模型机的组合逻辑控制器.html"><strong aria-hidden="true">5.3.</strong> 模型机的组合逻辑控制器</a></li><li class="chapter-item expanded "><a href="../../Part2/三. 中央处理器/4. 模型机的微程序控制器/模型机的微程序控制器.html"><strong aria-hidden="true">5.4.</strong> 模型机的微程序控制器</a></li></ol></li><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/存储子系统.html"><strong aria-hidden="true">6.</strong> 存储子系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/1. 概述/概述.html"><strong aria-hidden="true">6.1.</strong> 概述</a></li><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/2. 半导体存储原理/半导体存储原理.html"><strong aria-hidden="true">6.2.</strong> 半导体存储原理</a></li><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/3. 主存储器组织/主存储器组织.html"><strong aria-hidden="true">6.3.</strong> 主存储器组织</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/3. 主存储器组织/一. 主存储器的逻辑设计/一. 主存储器的逻辑设计.html"><strong aria-hidden="true">6.3.1.</strong> 主存储器的逻辑设计</a></li><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/3. 主存储器组织/二.动态存储器的刷新/动态存储器的刷新.html"><strong aria-hidden="true">6.3.2.</strong> 动态存储器的刷新</a></li><li class="chapter-item expanded "><a href="../../Part2/四. 存储子系统/3. 主存储器组织/三.主存储器的校验方法/主存储器的校验方法.html"><strong aria-hidden="true">6.3.3.</strong> 主存储器的校验方法</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> 磁表面存储器</div></li></ol></li><li class="chapter-item expanded "><a href="../../Part2/五. 输入输出子系统/输入输出系统.html"><strong aria-hidden="true">7.</strong> 输入输出系统</a></li><li class="chapter-item expanded affix "><li class="part-title">Part 3</li><li class="chapter-item expanded "><a href="../../Part3/一. 微型计算机概述/微型计算机概述.html"><strong aria-hidden="true">8.</strong> 微型计算机概述</a></li><li class="chapter-item expanded "><a href="../../Part3/二. 微处理器/微处理器.html" class="active"><strong aria-hidden="true">9.</strong> 微处理器</a></li><li class="chapter-item expanded "><a href="../../Part3/三. 8086-8088指令系统/8086-8088指令系统.html"><strong aria-hidden="true">10.</strong> 8086-8088指令系统</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part3/三. 8086-8088指令系统/1. 概述/概述.html"><strong aria-hidden="true">10.1.</strong> 概述</a></li><li class="chapter-item expanded "><a href="../../Part3/三. 8086-8088指令系统/2. 寻址方式/寻址方式.html"><strong aria-hidden="true">10.2.</strong> 寻址方式</a></li><li class="chapter-item expanded "><a href="../../Part3/三. 8086-8088指令系统/3. 指令系统/指令系统.html"><strong aria-hidden="true">10.3.</strong> 指令系统</a></li></ol></li><li class="chapter-item expanded "><a href="../../Part3/四. 汇编语言程序设计/汇编语言程序设计.html"><strong aria-hidden="true">11.</strong> 汇编语言程序设计</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part3/四. 汇编语言程序设计/1. 汇编语言基础/汇编语言基础.html"><strong aria-hidden="true">11.1.</strong> 汇编语言基础</a></li><li class="chapter-item expanded "><a href="../../Part3/四. 汇编语言程序设计/2. 常用伪指令/常用伪指令.html"><strong aria-hidden="true">11.2.</strong> 常用伪指令</a></li><li class="chapter-item expanded "><a href="../../Part3/四. 汇编语言程序设计/3. DOS功能调用/DOS功能调用.html"><strong aria-hidden="true">11.3.</strong> DOS功能调用</a></li><li class="chapter-item expanded "><a href="../../Part3/四. 汇编语言程序设计/4. 汇编程序设计基础/汇编程序设计基础.html"><strong aria-hidden="true">11.4.</strong> 汇编程序设计基础</a></li></ol></li><li class="chapter-item expanded "><a href="../../Part3/五. 输入输出及中断技术/输入输出及中断技术.html"><strong aria-hidden="true">12.</strong> 输入输出及中断技术</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Part3/五. 输入输出及中断技术/1. IO系统概述/IO系统概述.html"><strong aria-hidden="true">12.1.</strong> IO系统概述</a></li><li class="chapter-item expanded "><a href="../../Part3/五. 输入输出及中断技术/2. 简单接口电路及应用/简单接口电路及应用.html"><strong aria-hidden="true">12.2.</strong> 简单接口电路及应用</a></li><li class="chapter-item expanded "><a href="../../Part3/五. 输入输出及中断技术/3. 中断系统/8086-8088中断系统.html"><strong aria-hidden="true">12.3.</strong> 8086-8088中断系统</a></li><li class="chapter-item expanded "><a href="../../Part3/五. 输入输出及中断技术/4. 中断控制器8259A/中断控制器8259A.html"><strong aria-hidden="true">12.4.</strong> 中断控制器8259A</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">计算机系统结构</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="80868088微处理器"><a class="header" href="#80868088微处理器">8086/8088微处理器</a></h1>
<h2 id="特点及工作模式"><a class="header" href="#特点及工作模式">特点及工作模式</a></h2>
<h3 id="一-特点"><a class="header" href="#一-特点">一. 特点</a></h3>
<h4 id="1-cpu内部结构-采用并行流水线工作方式"><a class="header" href="#1-cpu内部结构-采用并行流水线工作方式">1. CPU内部结构 采用并行流水线工作方式</a></h4>
<p>将CPU划分成两个功能部件: <font color=red>执行单元<code>EU</code>、总线接口单元<code>BIU</code></font></p>
<p>并设置<font color=red>指令预取队列,实现流水线工作</font></p>
<p><img src="pics/%E5%B9%B6%E8%A1%8C%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F.png" alt="并行流水线工作" /></p>
<blockquote>
<p>分析指令时总线空闲, 可以取第二条指令, 于是两条指令的执行上时间有重叠<br />
如此CPU和总线一直在忙, 减少了执行多条指令的执行时间</p>
</blockquote>
<h4 id="2-存储器寻址部分-对内存空间实行分段管理"><a class="header" href="#2-存储器寻址部分-对内存空间实行分段管理">2. 存储器寻址部分 对内存空间实行分段管理</a></h4>
<p>主存空间<code>1M</code>, 将内存空间分为多个<font color=red>逻辑段</font></p>
<p>每个逻辑段不超过<code>64K</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>个单元</p>
<p>每个逻辑段<font color=red>通过段基(地)址区分(高16位)</font></p>
<p>段内每个单元的地址为相对于本段第一单元的距离，称为<font color="red">偏移地址</font>(相对地址)</p>
<p><img src="pics/%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E7%9A%84%E5%88%86%E6%AE%B5%E7%AE%A1%E7%90%86.png" alt="内存空间的分段" /></p>
<blockquote>
<p>如<code>10000H</code> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> <code>1000:0</code></p>
</blockquote>
<h4 id="3-工作模式-支持多处理器系统"><a class="header" href="#3-工作模式-支持多处理器系统">3. 工作模式 支持多处理器系统</a></h4>
<p>通常有个主处理器, 如8086; 除此之外还有协处理器(执行特殊运算), 如8087、支持输入输出管理的处理器, 如8089</p>
<p>两种工作模式: 最小模式、最大模式</p>
<p><img src="pics/%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%80%89%E6%8B%A9.png" alt="工作模式的选择" /></p>
<h5 id="最小模式"><a class="header" href="#最小模式">最小模式</a></h5>
<p><font color="orange">单处理器模式</font>，控制信号较少，一般可不必接总线控制器</p>
<p><img src="pics/%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BA%BF%E8%BF%9E%E6%8E%A5%E7%A4%BA%E4%BE%8B.png" alt="总线连接示例" /></p>
<h5 id="最大模式"><a class="header" href="#最大模式">最大模式</a></h5>
<p><font color="orange">多处理器模式</font>，控制信号较多，通过<font color="red">总线控制器</font>与总线相连</p>
<p><img src="pics/%E6%9C%80%E5%A4%A7%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BA%BF%E8%BF%9E%E6%8E%A5%E7%A4%BA%E4%BE%8B.png" alt="总线链接示例" /></p>
<h2 id="引脚及功能"><a class="header" href="#引脚及功能">引脚及功能</a></h2>
<p><img src="pics/8088CPU%E5%BC%95%E8%84%9A.png" alt="8088CPU引脚" /></p>
<blockquote>
<p>括号前的为最小模式下的名字, 括号内为最大模式下的名字<br />
8088 为准16位: CPU内寄存器为16位, 总线8位</p>
</blockquote>
<h3 id="一-最小模式下8088的引线及功能"><a class="header" href="#一-最小模式下8088的引线及功能">一. 最小模式下8088的引线及功能</a></h3>
<h4 id="1-地址线和数据线"><a class="header" href="#1-地址线和数据线">1. 地址线和数据线</a></h4>
<p><img src="pics/8088-%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F-%E5%9C%B0%E5%9D%80%E7%BA%BF%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BA%BF.png" alt="地址线和数据线" /></p>
<h4 id="2-主要控制信号和状态信号"><a class="header" href="#2-主要控制信号和状态信号">2. 主要控制信号和状态信号</a></h4>
<p><img src="pics/8088-%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F-%E4%B8%BB%E8%A6%81%E6%8E%A7%E5%88%B6%E4%BF%A1%E5%8F%B7%E5%92%8C%E7%8A%B6%E6%80%81%E4%BF%A1%E5%8F%B7.png" alt="主要控制信号和状态信号" /></p>
<blockquote>
<p><code>DT/R</code>控制数据收发器<br />
<code>READY</code>用于同步扩展总线判断是否需要在总线周期内插入一个时钟周期, 高电平表示数据准备好, 不会插入时钟周期<br />
<img src="pics/8088-%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F-%E4%BE%8B-%E4%B8%BB%E8%A6%81%E6%8E%A7%E5%88%B6%E4%BF%A1%E5%8F%B7%E5%92%8C%E7%8A%B6%E6%80%81%E4%BF%A1%E5%8F%B7.png" alt="示例-读主存" /></p>
</blockquote>
<h4 id="3-中断请求和响应信号"><a class="header" href="#3-中断请求和响应信号">3. 中断请求和响应信号</a></h4>
<p><img src="pics/8088-%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E6%96%AD%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E4%BF%A1%E5%8F%B7.png" alt="中断请求和响应信号" /></p>
<blockquote>
<p><code>INTA</code>是对<code>INTR</code>的响应, <code>NMI</code>总是响应</p>
</blockquote>
<h4 id="4-总线保持请求与响应信号"><a class="header" href="#4-总线保持请求与响应信号">4. 总线保持请求与响应信号</a></h4>
<p>针对DMA请求</p>
<p><img src="pics/8088-%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F-%E6%80%BB%E7%BA%BF%E4%BF%9D%E6%8C%81%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E4%BF%A1%E5%8F%B7.png" alt="总线保持请求与响应信号" /></p>
<h4 id="8088与8086引线的差别"><a class="header" href="#8088与8086引线的差别">8088与8086引线的差别</a></h4>
<ol>
<li>
<p>数据总线宽度不同</p>
<p>8088 外部总线宽度为8位<br />
8086 外部总线宽度为16位</p>
<blockquote>
<p>内部都是16位</p>
</blockquote>
</li>
<li>
<p>访问主存和IO信号的差异不同</p>
<p>8088: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1333em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord">/</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> 表示访存<br />
8086: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1333em;vertical-align:-0.25em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> 表示访存</p>
</li>
</ol>
<h3 id="二-最大模式下8088的引线及功能"><a class="header" href="#二-最大模式下8088的引线及功能">二. 最大模式下8088的引线及功能</a></h3>
<p><img src="pics/8088-%E6%9C%80%E5%A4%A7%E6%A8%A1%E5%BC%8F.png" alt="8088最大模式" /></p>
<blockquote>
<ul>
<li>RQ/GT 一个引脚同时进行请求和响应(分时复用), 编号低的优先级高</li>
<li>总线封锁: 在一条指令执行时封锁总线控制权<br />
书后面有附表</li>
</ul>
</blockquote>
<h2 id="80868088-功能结构--im"><a class="header" href="#80868088-功能结构--im">8086/8088 功能结构  IM</a></h2>
<h3 id="一-功能结构"><a class="header" href="#一-功能结构">一. 功能结构</a></h3>
<p><img src="pics/CPU%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84.png" alt="CPU内部结构" /></p>
<blockquote>
<p>寄存器都是16位</p>
</blockquote>
<p><img src="pics/EU.png" alt="EU" /></p>
<p><img src="pics/BIU.png" alt="BIU" /></p>
<blockquote>
<p>对于清楚指令队列的情况: 现在有分支预测缓解这种情况</p>
</blockquote>
<p>指令队列的存在使EU和BIU两个部分可并行工作，<font color="red">即实现指令的并行执行</font></p>
<ul>
<li><font color="red">提高了CPU的效率</font></li>
<li><font color="red">降低了对存储器存取速度的要求</font></li>
</ul>
<h3 id="二-内部寄存器"><a class="header" href="#二-内部寄存器">二. 内部寄存器</a></h3>
<p>含14个16位寄存器</p>
<ul>
<li>8 个<strong>通用寄存器</strong></li>
<li>4 个段寄存器</li>
<li>2 个控制寄存器</li>
</ul>
<p><strong><font color="red">注意理解各寄存器的作用</font></strong>  IM</p>
<h4 id="通用寄存器-8-个"><a class="header" href="#通用寄存器-8-个">通用寄存器 8 个</a></h4>
<p>通用寄存器可以<font color=red>存放数据</font>, 各寄存器又有<font color=red>特殊作用</font></p>
<h5 id="数据寄存器"><a class="header" href="#数据寄存器">数据寄存器</a></h5>
<p>AX BX CX DX</p>
<p>每个数据寄存器可拆分为<font color=red>2个8位寄存器</font>单独使用</p>
<ul>
<li>AX <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> AH, AL<br />
其中AX AL又称为<font color=red>累加器</font>: 存放中间结果; <font color=red>所有IO指令都通过AX与接口传输信息</font></li>
<li>BX <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> BH, BL<br />
<font color="red">基址寄存器</font>: 在间接寻址中用于存放基地址</li>
<li>CX <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> CH, CL<br />
<font color=red>计数器</font>: 用于在循环或串操作<font color="red">指令</font>中存放计数值
<blockquote>
<p>多指令构成的循环语句可能不适用CX, 如 for loop</p>
</blockquote>
</li>
<li>DX <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> DH, DL<br />
<font color=red>数据寄存器</font>; 也可用于IO端口间接寻址(<code>IN、OUT</code>指令端口号较短时可直接写在指令内(8位), 否则写在DX中)、在32位乘除法运算时, 存放高16位数</li>
</ul>
<h5 id="地址指针寄存器"><a class="header" href="#地址指针寄存器">地址指针寄存器</a></h5>
<p>SP BP</p>
<ul>
<li>SP<br />
<font color=red>堆栈指针</font>寄存器,其内容为栈顶的偏移地址(如果不用堆栈那就是普通的数据寄存器)</li>
<li>BP<br />
<font color=red>基地址指针</font>寄存器, 常用于在访问内存时存放内存单元的偏移地址</li>
</ul>
<blockquote>
<p>作为基址寄存器<br />
用<font color="red">BX</font>表示所寻找的数据在<font color="red">数据段</font>(如高级语言中的全局变量)<br />
用<font color="red">BP</font>则表示数据在<font color="red">堆栈段</font>(如高级语言中自己定义的局部变量)(又如在不动SP的前提下访问堆栈里的内容)</p>
</blockquote>
<h5 id="变址寄存器"><a class="header" href="#变址寄存器">变址寄存器</a></h5>
<p>变址寄存器在指令中常用于存放数据在内存中的偏移地址</p>
<ul>
<li>SI <font color=red>源变址寄存器</font></li>
<li>DI <font color=red>目标变址寄存器</font></li>
</ul>
<h4 id="控制寄存器-2-个"><a class="header" href="#控制寄存器-2-个">控制寄存器 2 个</a></h4>
<h5 id="指令指针寄存器ip"><a class="header" href="#指令指针寄存器ip">指令指针寄存器IP</a></h5>
<p>存放预取指令偏移地址</p>
<p><img src="pics/REG-IP.png" alt="IP" /></p>
<h5 id="标志寄存器flags"><a class="header" href="#标志寄存器flags">标志寄存器FLAGS</a></h5>
<p><img src="pics/REG-FLAGS.png" alt="FLAGS" /></p>
<p>黑色: 状态标志位</p>
<ul>
<li>CF (Carry Flag)<br />
进位标志位。加(减)法运算时，若最高位有进(借)位则CF=1</li>
<li>PF (Parity Flag)<br />
奇偶标志位。运算结果低8位中“1”的个数为偶数时PF=1</li>
<li>AF (Auxiliary Carry Flag)<br />
辅助进位标志位。加(减)操作中，若Bit3向Bit4(半字节)有进位(借位)，AF=1</li>
<li>ZF (Zero Flag)<br />
零标志位。当运算结果为零时ZF=1</li>
<li>SF (Sign Flag)<br />
符号标志位。当运算结果的最高位为1时，SF=1</li>
<li>OF (Overflow Flag)
溢出标志位。当算术运算的结果超出表示范围时，OF=1</li>
</ul>
<p><font color=red>红色: 控制标识位</font></p>
<ul>
<li>TF (Trap Flag)<br />
陷井标志位，也叫跟踪标志位。<br />
TF=1时，单步执行方式</li>
<li>IF (Interrupt Enable Flag)<br />
中断允许标志位,IF=1则CPU响应中断请求</li>
<li>DF (Direction Flag)<br />
方向标志位，串操作的方向<br />
DF=0，按增地址方式；DF=1，按减地址方式</li>
</ul>
<blockquote>
<p>例<br />
给出以下运算后各状态标志位的状态<br />
<code>010110110</code><br />
<code>+11110100</code>
<img src="pics/FLAGS-%E4%BE%8B.png" alt="例子" /></p>
</blockquote>
<h4 id="段寄存器"><a class="header" href="#段寄存器">段寄存器</a></h4>
<p><img src="pics/%E6%AE%B5%E5%AF%84%E5%AD%98%E5%99%A8.png" alt="段寄存器" /></p>
<blockquote>
<p>代码段: 存放指令<br />
数据段: 存放自己定义的数据<br />
堆栈段: 用于堆栈<br />
附加段: 也存放数据, 多用于串操作指令(将一个串搬到另一个地方, 有些指令要求两个串不在同一个段)<br />
不需要全部存在</p>
<p>段基址: 一个段的最低地址(第一个单元)的高16位, 人为约定</p>
</blockquote>
<h2 id="存储器组织--im"><a class="header" href="#存储器组织--im">存储器组织  IM</a></h2>
<h3 id="一-物理地址与逻辑地址"><a class="header" href="#一-物理地址与逻辑地址">一. 物理地址与逻辑地址</a></h3>
<h4 id="物理地址"><a class="header" href="#物理地址">物理地址</a></h4>
<p>指每个内存单元在整个内存空间中的<font color=blue>唯一地址</font></p>
<p>物理地址空间取决于<font color=blue>地址线位数</font></p>
<p>8086/8088CPU地址线20根，每个存储单元物理地址20位，可寻址最大内存容量为1MB(8086/8088存储器按字节编址)</p>
<p>1MB存储单元的地址范围为<br />
00 ... 0(20位)  ~  11 ... 1(20位)</p>
<p>为了方便书写，在源程序中常用5位十六进制数来表示一个存储单元的地址</p>
<p><img src="pics/%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80.png" alt="十六进制地址" /></p>
<blockquote>
<p>注意五个F之前要加个0(在机器上使用)</p>
</blockquote>
<h4 id="字单元的地址与存放规则"><a class="header" href="#字单元的地址与存放规则">字单元的地址与存放规则</a></h4>
<p>两个<font color="red">相邻字节单元</font>构成一个<font color=red>字单元</font></p>
<p>字单元的地址为两个字节单元中较小地址单元的地址</p>
<p>字数据的存放规则是<font color="red">低8位放在较低地址字节单元，高8位放在较高地址字节单元（小端模式）</font></p>
<p><img src="pics/%E5%AD%97%E5%8D%95%E5%85%83%E4%BE%8B.png" alt="字单元例" /></p>
<h4 id="逻辑地址"><a class="header" href="#逻辑地址">逻辑地址</a></h4>
<p>存储器分段管理, 将存储空间分为若干<font color=red>逻辑段</font></p>
<p>每个存储单元的地址由16位<font color="red">段基址</font>、16位<font color="red">偏移地址</font>两部分组成，构成<font color="red">逻辑地址</font></p>
<p><code>XXXXH:YYYYH</code></p>
<p>逻辑段的起始单元称为段首, 其地址叫<font color=red>段首地址</font></p>
<p><font color=red>偏移地址</font>是相对于本段起始单元的距离</p>
<blockquote>
<p><img src="pics/%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E4%BE%8B.png" alt="例" /></p>
<p><img src="pics/%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E4%BE%8B2.png" alt="例2" /></p>
</blockquote>
<h4 id="地址转换"><a class="header" href="#地址转换">地址转换</a></h4>
<h5 id="逻辑地址--物理地址"><a class="header" href="#逻辑地址--物理地址">逻辑地址 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> 物理地址</a></h5>
<p><font color="red">物理地址=段基址×16+偏移地址</font></p>
<p><img src="pics/logicToPhysic.png" alt="逻辑到物理" /></p>
<blockquote>
<p><img src="pics/logicToPhysic-eg.png" alt="例" /><br />
<img src="pics/logicToPhysic-eg2.png" alt="例2" /></p>
</blockquote>
<h5 id="物理地址--逻辑地址"><a class="header" href="#物理地址--逻辑地址">物理地址 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span> 逻辑地址</a></h5>
<p><img src="pics/physciToLogical.png" alt="物理地址到逻辑地址" /></p>
<h5 id="逻辑段的特点"><a class="header" href="#逻辑段的特点">逻辑段的特点</a></h5>
<p>逻辑段<font color=red>最大长度64K</font></p>
<blockquote>
<p>因为有16位<br />
一般用不到那么大</p>
</blockquote>
<p>每个段的起始地址必须是一个<font color=red>小节</font>的首址<font color=red>(低4位为0)</font></p>
<p>逻辑段之间的关系：邻接、间隔、部分重叠的和完全重叠</p>
<p>任一时刻，一个程序最多只能访问<font color="red">4</font>个逻辑段</p>
<p>分段的优点: 程序只需要管理段内偏移地址, 不需要管理段地址(有操作系统管理), 而实际执行的时候, 又有方法计算出物理地址</p>
<blockquote>
<p>例<br />
<img src="pics/%E5%90%84%E9%80%BB%E8%BE%91%E6%AE%B5%E4%BE%8B.png" alt="各逻辑段例" /></p>
</blockquote>
<h3 id="二-段寄存器的使用"><a class="header" href="#二-段寄存器的使用">二. 段寄存器的使用</a></h3>
<p>8088/8086对段寄存器使用的规定</p>
<p><img src="pics/8088-8086%E6%AE%B5%E5%AF%84%E5%AD%98%E5%99%A8%E4%BD%BF%E7%94%A8%E8%A7%84%E5%AE%9A.png" alt="段寄存器使用规定" /></p>
<blockquote>
<p>注意串操作的目的串只能设置为ES</p>
</blockquote>
<h3 id="三-堆栈及堆栈段段使用"><a class="header" href="#三-堆栈及堆栈段段使用">三. 堆栈及堆栈段段使用</a></h3>
<h4 id="堆栈的概念"><a class="header" href="#堆栈的概念">堆栈的概念</a></h4>
<p>堆栈是按特定规则访问的存储区</p>
<p>主要用于暂存数据以及在过程调用或处理中断时保存断点信息</p>
<p>堆栈一般分为<font color="red">专用堆栈存储器</font>和<font color="red">软件堆栈</font></p>
<p>软件堆栈: 由程序设计人员用软件在内存中划出的一块存储区，8086/8088采用这种方式</p>
<h4 id="堆栈指针-sp-stack-point"><a class="header" href="#堆栈指针-sp-stack-point">堆栈指针 SP (Stack Point)</a></h4>
<p>寄存器SP指示栈顶位置，在入栈、出栈操作中提供间接寻址</p>
<p><img src="pics/SP.png" alt="SP" /></p>
<blockquote>
<p>注意图里的SP是相对<code>00000H</code>的距离</p>
</blockquote>
<h4 id="80888086-堆栈的组织"><a class="header" href="#80888086-堆栈的组织">8088/8086 堆栈的组织</a></h4>
<p>在8086/8088微机中堆栈是由堆栈段寄存器SS指示的一段存储区</p>
<p><img src="pics/8086%E5%A0%86%E6%A0%88.png" alt="8086堆栈" /></p>
<blockquote>
<p>注意SP一开始在栈底底下一个单元(按字)</p>
</blockquote>
<h4 id="80868088-堆栈的使用"><a class="header" href="#80868088-堆栈的使用">8086/8088 堆栈的使用</a></h4>
<ol>
<li>数据在堆栈中以<font color="red">字为单位</font>存放，低8位放在较低地址单元，高8位放在较高地址单元</li>
<li>堆栈初始化时SP指向栈底+2单元，其值就是堆栈的长度,不大于64K字节</li>
<li>SP表示栈顶单元与堆栈段基址之间的距离(字节数)
<ul>
<li>当SP为最大(初始)值时，表示堆栈为空</li>
<li>当SP为0时，表示堆栈全满</li>
</ul>
</li>
<li>当用户程序中要求的堆栈长度超过64KB时，可以设置多个堆栈段</li>
</ol>
<blockquote>
<p>堆栈使用例<br />
<img src="pics/%E5%A0%86%E6%A0%88%E4%BD%BF%E7%94%A8%E4%BE%8B1.png" alt="例1" />
堆栈段长度为 202H <font color=red>注意最后一个单元 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span></span></span></span> SP初值</font></p>
</blockquote>
<h2 id="总线时序"><a class="header" href="#总线时序">总线时序</a></h2>
<h3 id="一-最小模式下的总线"><a class="header" href="#一-最小模式下的总线">一. 最小模式下的总线</a></h3>
<p><img src="pics/%E6%9C%80%E5%B0%8F%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E6%80%BB%E7%BA%BF.png" alt="最小模式下的总线" /></p>
<blockquote>
<p>8282: 地址锁存器(类似三态门)<br />
ALE: 地址锁存有效, 为1是三态门才打开<br />
8286: 数据收发器<br />
DEN: 控制数据收发器打开与否, 为0打开</p>
</blockquote>
<h3 id="二-最大模式下的总线"><a class="header" href="#二-最大模式下的总线">二. 最大模式下的总线</a></h3>
<p><img src="pics/%E6%9C%80%E5%A4%A7%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E6%80%BB%E7%BA%BF.png" alt="最大模式下的总线" /></p>
<blockquote>
<p>多了总线控制器</p>
</blockquote>
<h3 id="三-总线时序"><a class="header" href="#三-总线时序">三. 总线时序</a></h3>
<p>了解即可</p>
<h4 id="总线周期"><a class="header" href="#总线周期">总线周期</a></h4>
<ul>
<li>CPU完成一次访问内存/接口操作所需要的时间</li>
<li>一个总线周期至少包括4个时钟周期</li>
</ul>
<h4 id="总线时序-1"><a class="header" href="#总线时序-1">总线时序</a></h4>
<p>CPU各引脚信号在时间上的关系</p>
<h4 id="8088-读周期"><a class="header" href="#8088-读周期">8088 读周期</a></h4>
<p><img src="pics/8088%E8%AF%BB%E5%91%A8%E6%9C%9F.png" alt="读周期" /></p>
<h4 id="8088-写周期"><a class="header" href="#8088-写周期">8088 写周期</a></h4>
<p><img src="pics/8088%E5%86%99%E5%91%A8%E6%9C%9F.png" alt="写周期" /></p>
<h4 id="延长的总线周期"><a class="header" href="#延长的总线周期">延长的总线周期</a></h4>
<p>编码炸了, 回头补上</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../Part3/一. 微型计算机概述/微型计算机概述.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../Part3/三. 8086-8088指令系统/8086-8088指令系统.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../Part3/一. 微型计算机概述/微型计算机概述.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../Part3/三. 8086-8088指令系统/8086-8088指令系统.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
